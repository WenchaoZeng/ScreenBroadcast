<meta charset="UTF-8">
<img id="screen" />
<img id="mouse" src="mouse.png" />
<iframe id="push" src="push.html"></iframe>
<button  id="fullscreen" onclick="switchFullScreen();" >全屏</button>
<style type="text/css">
    body {
        margin: 0; 
        padding:0;
        overflow: hidden;
    }
    #screen { 
        width: 100%; 
    }
    #mouse { 
        position: absolute;
        width: 15px;
        height: 15px;
    }
    #push {
        display: none;
    }
    #fullscreen {
        background: transparent;
        position: absolute;
        right: 0;
        top: 0;
    }
</style>
<script type="text/javascript">
    
    // 鼠标
    function setMouse(x, y) {
        var mouse = document.getElementById('mouse');
        mouse.style.position='absolute';
        mouse.style.left = x + 'px';
        mouse.style.top = y + 'px';
    }
    document.getElementById('push').contentWindow.setMouse = setMouse;

    // 全屏
    function switchFullScreen() {
        var el = document.documentElement;
        var rfs = el.requestFullScreen
                        || el.webkitRequestFullScreen
                        || el.mozRequestFullScreen;
        rfs.call(el);
    }

    // 显示或隐藏全屏按钮
    var isFullscreenShowed = true;
    function updateFullscreenBtn() {
        if (screen.height != document.documentElement.clientHeight && !isFullscreenShowed) {
            document.getElementById('fullscreen').style.display = "block";
            isFullscreenShowed = true;
        } else if (screen.height == document.documentElement.clientHeight && isFullscreenShowed) {
            document.getElementById('fullscreen').style.display = "none";
            isFullscreenShowed = false;
        }

        setTimeout(updateFullscreenBtn, 1000);
    }
    setTimeout(updateFullscreenBtn, 1000);

</script>
<!--
TODO: 屏幕推送显示
TODO: 鼠标样式推送显示
TODO: 屏幕缩放和鼠标缩放
-->